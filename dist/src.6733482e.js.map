{"version":3,"sources":["src/modules/DOMstuff.js","src/modules/controller/GifImages.js","src/modules/helper.js","src/modules/render.js","src/modules/Constants.js","src/modules/controller/ImageSearchBox.js","src/modules/staticEventListeners.js","src/index.js"],"names":["domElements","DOMstuff","document","_loadingMsgModalEl","_errorMsgModalEl","_errorMsgModalDisplayEl","_mainModalEl","_hideMainModal","_showMainModal","errorMsgModalCloseBtnEl","querySelector","imageSearchForm","imageSearchBtnEl","imageSeachClearBtnEl","imageInputEl","modal","classList","add","remove","errorMsgDom","show","msg","textContent","close","loadingMsgDom","GifImagesController","_imagesLocalStore","addToStore","imgObj","push","getImages","emptyStore","length","pop","clearNode","node","firstChild","removeChild","timeoutPromise","time","Promise","resolve","setTimeout","Error","request","url","init","timeout","Object","assign","mode","race","fetch","renderDOM","gifImages","list","imageList","forEach","image","idx","li1","createElement","img1","setAttribute","images","original","appendChild","GIPHY_API_KEY","GIPHY_API_BASE_URL","API_TIMEOUT","API_ERROR_DEFAULT_MSG","ImageSearchBoxController","handleImageSearchBtnClick","e","preventDefault","_imageInputEl","textToSearch","value","trim","_loadImages","requestURL","requestParams","then","response","json","data","catch","error","console","clearSeachText","addEventListener","log","loadDefaultImages"],"mappings":"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","file":"src.6733482e.js","sourceRoot":"..","sourcesContent":["const DOMstuff = ((document) => {\n  const domElements = (()=>{\n    const errorMsgModalCloseBtnEl = document.querySelector(\".err_msg_modal .btn--close\");\n    const imageSearchForm = document.querySelector(\".image__search_form\");\n    const imageSearchBtnEl = document.querySelector(\".image__search_btn--seach\");\n    const imageSeachClearBtnEl = document.querySelector(\".image__search_btn--clear\")\n    const imageInputEl = document.querySelector('input[name=\"gif-name\"]');\n\n    return{\n        errorMsgModalCloseBtnEl,\n        imageSearchForm,\n        imageSearchBtnEl,\n        imageSeachClearBtnEl,\n        imageInputEl,\n    }\n  })();\n\n  const modal = (() => {\n    const _mainModalEl = document.querySelector(\".modal\");\n\n    const _hideMainModal = () => _mainModalEl.classList.add(\"hidden\");\n    const _showMainModal = () => _mainModalEl.classList.remove(\"hidden\");\n\n    const errorMsgDom = (() => {\n      const _errorMsgModalEl = document.querySelector(\".err_msg_modal\");\n      const _errorMsgModalDisplayEl = document.querySelector(\".err_msg_modal__display\");\n        \n      function show(msg) {\n        _showMainModal();\n        _errorMsgModalEl.classList.remove(\"hidden\");\n        _errorMsgModalDisplayEl.textContent = msg;\n      }\n\n      function close() {\n        _errorMsgModalEl.classList.add(\"hidden\");\n        _errorMsgModalDisplayEl.textContent = \"\";\n        _hideMainModal();\n      }\n\n      return{ \n          show,\n          close,\n      }\n    })();\n\n    const loadingMsgDom = (() => {\n      const _loadingMsgModalEl = document.querySelector(\".loading_msg_modal\");\n\n      function show() {\n         _showMainModal();\n        _loadingMsgModalEl.classList.remove(\"hidden\");\n      }\n\n      function close() {\n        _loadingMsgModalEl.classList.add(\"hidden\");\n        _hideMainModal();\n      }\n\n      return {\n        show,\n        close,\n      };\n    })();\n\n    return {\n      errorMsgDom,\n      loadingMsgDom,\n    };\n  })();\n\n  return {\n      modal,\n      domElements\n  }\n})(document);\n\nexport const {modal,domElements} = DOMstuff;\n","const GifImagesController = (() => {\n    const _imagesLocalStore = [];\n\n    function addToStore(imgObj){\n        _imagesLocalStore.push(imgObj);\n    }\n\n    function emptyStore(){\n        while(_imagesLocalStore.length){\n            _imagesLocalStore.pop();\n        }\n    }\n\n    function getImages(){\n        return [..._imagesLocalStore];\n    }\n\n\n    return {\n        addToStore,\n        getImages,\n        emptyStore\n    }\n})();\n\nexport {GifImagesController}; ","/**\n * Remove all the children of DOM Node\n * @param {object} node - A DOM Node \n */\nfunction clearNode(node){\n    while(node.firstChild){\n        node.removeChild(node.firstChild);\n    }\n}\n\n/**\n * A timeout utility for promise\n * @param {number} time - Time in which promise will resolved\n * @return {Promise.<Object>} - A promise object that resolve after specified time.\n */\nfunction timeoutPromise(time = 60000){\n    return new Promise(function (resolve) {\n      setTimeout(function () {\n        resolve(Error(\"API Timeout\"));\n      }, time);\n    });\n}\n\nfunction request(url, init = {}, timeout) {\n  init = Object.assign({ mode: \"cors\" }, init);\n  return Promise.race([fetch(url, init), timeoutPromise(timeout)]);\n}\n\nexport {\n    clearNode,\n    timeoutPromise,\n    request\n}","import {GifImagesController} from \"./controller/GifImages.js\";\nimport {clearNode} from \"./helper.js\";\n\nconst renderDOM = (() => {\n  const gifImages = (() => {\n    function list() {\n      const imageList = document.querySelector(\".image__list\");\n      clearNode(imageList);\n\n      GifImagesController.getImages().forEach((image, idx) => {\n        const li1 = document.createElement(\"li\");\n        const img1 = document.createElement(\"img\");\n\n        li1.classList.add(\"image__item\", `image__item--${idx + 1}`);\n        \n        img1.setAttribute(\"src\", `${image.images.original.url}`);\n        \n        li1.appendChild(img1);\n        imageList.appendChild(li1);\n      });\n    }\n\n    return { list };\n  })();\n\n  return { gifImages };\n})();\n\nexport {renderDOM};\n","export const GIPHY_API_KEY = \"mxFIqNNWgjxb3HLuiEPqXsC8jTFfAS4W\";\nexport const GIPHY_API_BASE_URL = \"https://api.giphy.com/v1/gifs/\";\nexport const API_TIMEOUT = 60000;\nexport const API_ERROR_DEFAULT_MSG = \"Due to technical error unable to fetch images :(\";","import {GifImagesController} from './GifImages.js'\nimport {renderDOM} from '../render.js';\nimport {request} from '../helper.js';\nimport {domElements,modal} from '../DOMstuff.js';\nimport {GIPHY_API_KEY, GIPHY_API_BASE_URL, API_ERROR_DEFAULT_MSG, API_TIMEOUT} from '../Constants.js';\n\nconst ImageSearchBoxController = (() => {\n  /**\n   * It fetch the images from passed url and from response data load the images to DOM.\n   * @param {string} requestURL -  The url for which request is made.\n   * @param {object} requestParams - request parameters\n   * @param {number} timeout -  The time in which API should provide a valid response,\n   *                            otherwise request will be cancelled.\n   */\n  function _loadImages(requestURL, requestParams = {}, timeout) {\n    modal.loadingMsgDom.show();\n    request(requestURL, requestParams, timeout)\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (response) {\n        GifImagesController.emptyStore();\n        let data = response.data;\n        if(data.length){\n          response.data.forEach((imgObj) => {\n            GifImagesController.addToStore(imgObj);\n          });\n          renderDOM.gifImages.list();\n          modal.loadingMsgDom.close();\n        }else{\n          modal.errorMsgDom.show(\"For searched query no giffs are available\");\n        }\n      })\n      .catch(function (error) {\n        console.error(error);\n        modal.errorMsgDom.show(API_ERROR_DEFAULT_MSG);\n      });\n  }\n\n  /**\n   * Image Search Clear button event handler. It delete the query typed in image search box.\n   * @param {object} - The Click event occur on clicking the image search clear button.\n   */\n  function clearSeachText(e){\n    const _imageInputEl = domElements.imageInputEl;\n    _imageInputEl.value = '';\n  }\n\n  /**\n   * Image Search button event handler. It load the images on the browser screen based\n   * on the search query.\n   * @param {object} - The Click event occur on clicking the image search button.\n   */\n  function handleImageSearchBtnClick(e) {\n    e.preventDefault();\n    const _imageInputEl = domElements.imageInputEl;\n    let textToSearch = _imageInputEl.value.trim();\n    if (textToSearch.length) {\n      let requestURL = `${GIPHY_API_BASE_URL}search?api_key=${GIPHY_API_KEY}&q=${textToSearch}`;\n      _loadImages(requestURL, {} , API_TIMEOUT);\n    }\n  }\n\n  return { \n    handleImageSearchBtnClick,\n    clearSeachText\n   };\n})();\n\nexport {ImageSearchBoxController};","import {modal,domElements} from './DOMstuff.js'\nimport {ImageSearchBoxController} from './controller/ImageSearchBox.js'\n\ndomElements.errorMsgModalCloseBtnEl.addEventListener('click',(e)=>modal.errorMsgDom.close());\ndomElements.imageSearchForm.addEventListener('submit',ImageSearchBoxController.handleImageSearchBtnClick);\ndomElements.imageSeachClearBtnEl.addEventListener('click',ImageSearchBoxController.clearSeachText);","import \"./modules/staticEventListeners.js\";\nimport { GifImagesController } from \"./modules/controller/GifImages.js\";\nimport { GIPHY_API_KEY, GIPHY_API_BASE_URL, API_ERROR_DEFAULT_MSG,API_TIMEOUT} from \"./modules/Constants.js\";\nimport {renderDOM} from './modules/render.js';\nimport {modal} from './modules/DOMstuff.js';\nimport { request } from \"./modules/helper.js\";\nimport './modules/staticEventListeners.js'\n\n(function initApp(document) {\n  /**\n   * It will fetch and load default gifs on user screen on each browser\n   * refresh window.\n   */\n  function loadDefaultImages() {\n    let requestURL = `${GIPHY_API_BASE_URL}search?api_key=${GIPHY_API_KEY}&q=goodmorning`;\n    request(requestURL, {}, API_TIMEOUT)\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (response) {\n        GifImagesController.emptyStore();\n        response.data.forEach((imgObj) => {\n          GifImagesController.addToStore(imgObj);\n        });\n        renderDOM.gifImages.list();\n      })\n      .catch(function (error) {\n        console.error(error);\n        modal.errorMsgDom.show(API_ERROR_DEFAULT_MSG);\n      });\n  }\n\n  console.log('APP LOADED');\n\n  //Add DOMContentLoaded event to loadDefaultImages on DOM\n  document.addEventListener(\"DOMContentLoaded\", (e) => loadDefaultImages());\n})(document);\n"]}